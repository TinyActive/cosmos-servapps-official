{
  "cosmos-installer": {
    "form": [
      {
        "name": "sonarqube",
        "label": "Where do you store your sonarqube?",
        "initialValue": "{DefaultDataPath}/sonarqube",
        "type": "text"
      },
      {
        "name": "adminOnly",
        "label": "Do you want to make this service admin only?",
        "initialValue": false,
        "type": "checkbox"
      }
    ]
  },
  "minVersion": "0.9.6",
    "services": {
      "postgresql": {
        "image": "postgres:14",
        "environment": [
          "POSTGRES_USER=sonarqube",
          "POSTGRES_PASSWORD=YzcxF3R6Z1lgABkU9ezWzdOX",
          "POSTGRES_DB=sonarqube"
        ],
        "volumes": [
          {
            "source": "database-data",
            "target": "/var/lib/postgresql/data/",
            "type": "volume"
          }
        ],
        "container_name": "{ServiceName}-postgresql"
      },
      "{ServiceName}-sonarqube": {
        "image": "vouu/sonarqube:full",
        "volumes": [
          {
            "source": "sonarqube_data",
            "target": "/opt/sonarqube/data",
            "type": "volume"
          },
          {
            "source": "sonarqube_extensions",
            "target": "/opt/sonarqube/extensions",
            "type": "volume"
          },
          {
            "source": "sonarqube_logs",
            "target": "/opt/sonarqube/logs",
            "type": "volume"
          },
          {
            "source": "/mnt/sonarqube/sonar.properties",
            "target": "/opt/sonarqube/conf/sonar.properties",
            "type": "bind"
          }
        ],
        "container_name": "{ServiceName}-sonarqube"
      }
    },
    "volumes": {
      "database-data": {},
      "sonarqube_logs": {},
      "sonarqube_extensions": {},
      "sonarqube_data": {}
    },
    "routes": [
      {
        "name": "{ServiceName}",
        "description": "Expose {ServiceName} to the web",
        "useHost": true,
        "target": "http://{ServiceName}:9000",
        "mode": "SERVAPP",
        "Timeout": 14400000,
        "ThrottlePerMinute": 12000,
        "BlockCommonBots": true,
        "SmartShield": {
          "Enabled": true
        }
      }
    ]
  }